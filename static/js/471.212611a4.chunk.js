"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[471],{471:function(n,e,t){t.r(e),t.d(e,{default:function(){return j}});var r,i=t(861),a=t(439),s=t(687),c=t.n(s),o=t(791),u=t(689),l=t(87),d=t(626),p=t(168),f=t(686).Z.div(r||(r=(0,p.Z)(["\n    .text{\n        font-size: 16px;\n        font-weight: 400;\n    }\n    .movie-details{\n        display: flex;\n    }\n    .go-back-link{\n        background-color: #d8d6d6;\n        border-radius:5px;\n        margin-bottom: 40px;\n        border: 1px solid #000000;\n    }\n\n    .genres{\n        display: flex;\n        gap: 10px;\n    }\n\n    .actor-profile{\n        display: block;\n    }\n\n    .cast-item{\n        width: 200px;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        border: 1px solid black;\n        border-radius: 5px;\n        padding-top: 10px;\n        padding-bottom: 10px;\n\n    }\n    .cast-list{\n        display: flex;\n        gap: 40px;\n        flex-wrap: wrap;\n    }\n\n    .rewiew-item{\n        border-bottom: 1px solid #000;\n    }\n"]))),x=t(184),v=function(){var n=(0,u.UO)().movieId,e=(0,o.useState)(null),t=(0,a.Z)(e,2),r=t[0],s=t[1];return(0,o.useEffect)((function(){var e=function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,(0,d.dp)(n);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]),0===(null===r||void 0===r?void 0:r.length)?(console.log("currentMovieCast:",r),(0,x.jsx)("p",{children:"No info"})):(0,x.jsx)("div",{className:"cast add-inform-block",children:(0,x.jsx)("ul",{className:"cast-list",children:r&&r.cast.map((function(n){return(0,x.jsxs)("li",{className:"cast-item",children:[(0,x.jsx)("img",{className:"actor-profile",src:(0,d.Tl)(n.profile_path),alt:"",width:150}),(0,x.jsx)("p",{className:"text",children:n.name}),(0,x.jsxs)("p",{className:"text",children:["Character: ",n.character]})]},n.id)}))})})},m=function(){var n=(0,u.UO)().movieId,e=(0,o.useState)(null),t=(0,a.Z)(e,2),r=t[0],s=t[1];return(0,o.useEffect)((function(){var e=function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,(0,d.Ne)(n);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]),(0,o.useEffect)((function(){r&&console.log("currentMovieRewiews:",r)}),[r]),(0,x.jsx)("ul",{className:"rewiew-list",children:r&&(0===r.results.length?(0,x.jsx)("p",{children:"Sorry, there is no rewiews on this movie"}):r.results.map((function(n){return(0,x.jsxs)("li",{className:"rewiew-item",children:[(0,x.jsx)("p",{className:"text",children:n.author}),(0,x.jsx)("p",{className:"text",children:n.content})]},n.id)})))})},h=function(n){var e=n.currentFilmData;return(0,x.jsxs)("div",{className:"movie-details",children:[(0,x.jsx)("div",{className:"poster-box",children:(0,x.jsx)("img",{src:(0,d.Tl)(null===e||void 0===e?void 0:e.poster_path),alt:null===e||void 0===e?void 0:e.title,width:300})}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("h1",{children:[null===e||void 0===e?void 0:e.title," (",null===e||void 0===e?void 0:e.release_date.slice(0,4),")"]}),(0,x.jsxs)("p",{className:"text",children:["User score ",Math.round(10*(null===e||void 0===e?void 0:e.vote_average)),"%"]}),(0,x.jsx)("h2",{children:"Overview"}),(0,x.jsx)("p",{className:"text",children:null===e||void 0===e?void 0:e.overview}),(0,x.jsx)("h2",{children:"Genres"}),(0,x.jsx)("p",{className:"genres",children:null===e||void 0===e?void 0:e.genres.map((function(n){return(0,x.jsx)("span",{className:"genre text",children:n.name},n.id)}))})]})]})},w=function(n){var e,t,r,i,a=n.location;return(0,x.jsxs)("div",{className:"additional-information",children:[(0,x.jsx)("h2",{children:"Additional information"}),(0,x.jsxs)("ul",{className:"inform-list",children:[(0,x.jsx)("li",{className:"inform-link",children:(0,x.jsx)(l.rU,{to:"cast",state:{from:null!==(e=null===(t=a.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/"},children:"Cast"})}),(0,x.jsx)("li",{className:"inform-link",children:(0,x.jsx)(l.rU,{to:"rewiews",state:{from:null!==(r=null===(i=a.state)||void 0===i?void 0:i.from)&&void 0!==r?r:"/"},children:"Rewiews"})})]})]})},j=function(){var n,e,t,r=(0,u.UO)().movieId,s=(0,u.TH)(),p=(0,o.useState)(null),j=(0,a.Z)(p,2),g=j[0],k=j[1];return(0,o.useEffect)((function(){var n=function(){var n=(0,i.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=k,n.next=3,(0,d.TP)(r);case 3:return n.t1=n.sent,n.abrupt("return",(0,n.t0)(n.t1));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[r]),(0,o.useEffect)((function(){g&&console.log(g)}),[g]),console.log("location.state?.from:",null===(n=s.state)||void 0===n?void 0:n.from),(0,x.jsxs)(f,{children:[(0,x.jsx)(l.rU,{to:null!==(e=null===(t=s.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",className:"go-back-link",children:"Go back"}),(0,x.jsx)(h,{currentFilmData:g}),(0,x.jsx)(w,{location:s}),(0,x.jsxs)(u.Z5,{children:[(0,x.jsx)(u.AW,{path:"cast",element:(0,x.jsx)(v,{})}),(0,x.jsx)(u.AW,{path:"rewiews",element:(0,x.jsx)(m,{})})]})]})}},626:function(n,e,t){t.d(e,{MP:function(){return x},Ne:function(){return f},TP:function(){return l},Tl:function(){return d},_L:function(){return u},dp:function(){return p}});var r=t(861),i=t(687),a=t.n(i),s=t(243),c="49dc0fc8e483e00bf3a468afadd01091",o="https://api.themoviedb.org/3",u=function(){var n=(0,r.Z)(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.Z.get("".concat(o,"/trending/movie/week?api_key=").concat(c));case 2:return n.abrupt("return",n.sent.data);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.Z.get("".concat(o,"/movie/").concat(e,"?api_key=").concat(c));case 2:return n.abrupt("return",n.sent.data);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(n){return n?"https://image.tmdb.org/t/p/w500".concat(n):"https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700"},p=function(){var n=(0,r.Z)(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.Z.get("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(c));case 2:return n.abrupt("return",n.sent.data);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.Z.get("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(c));case 2:return n.abrupt("return",n.sent.data);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),x=function(){var n=(0,r.Z)(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.Z.get("".concat(o,"/search/movie?api_key=").concat(c,"&query=").concat(e));case 2:return n.abrupt("return",n.sent.data);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=471.212611a4.chunk.js.map